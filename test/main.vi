import "../std/stack.vi"
import "io.vi"


# Program starts here: #
in main
    # Test bitwise operators #
    10 2 >> put     10 putc
    10 2 << put     10 putc
    10 2 |  put     10 putc
    10 2 &  put     10 putc
    10 2 ^  put     10 putc
    10 ~    put     10 putc

    # Test repeat control-flow #
    10 repeat
        0xA putc
    end

    # Meta-programming! #
    quote
        5 put
    quote

    put puts
    10 putc
    put puts
    10 putc

    # Try-Catch-Err
        try
            "What is your age: " puts get

            18 < if
                err
            end

            "You can drink!" puts
        catch
            "You can't drink." puts
        end
    #

    # Assert #
    5 2 >
    "Error message"
    assert

    # Random Number #
    5 repeat
        100 1 rand put
        10 putc

        1 sleep # Sleep function #
    end

    # Size, Empt #
    emp if
        "Number stack is empyt" puts
    else
        size put
    end

    0 ret
end